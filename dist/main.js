!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=1)}([function(t,e,i){},function(t,e,i){"use strict";i.r(e);i(0);function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dimensions=e,this.y=this.dimensions.height/2,this.x=this.dimensions.width/2,this.yVel=0,this.xVel=0,this.map={},this.keyup(),this.keydown()}var e,i,n;return e=t,(i=[{key:"drawHook",value:function(t){var e=document.getElementById("hook");t.drawImage(e,this.x,this.y,10,30)}},{key:"drawLine",value:function(t){t.fillStyle="white",t.fillRect(this.x,this.y,1,-700)}},{key:"animate",value:function(t){this.move(),this.drawHook(t),this.drawLine(t)}},{key:"moveRight",value:function(){this.xVel+=.5,this.xVel>5&&(this.xVel=5)}},{key:"moveLeft",value:function(){this.xVel-=.5,this.xVel<-5&&(this.xVel=-5)}},{key:"moveDown",value:function(){this.yVel+=.25,this.yVel>5&&(this.yVel=5)}},{key:"moveUp",value:function(){this.yVel-=.25,this.yVel<-5&&(this.yVel=-5)}},{key:"decelerateY",value:function(){this.yVel>0?this.yVel-=.05:this.yVel<0&&(this.yVel+=.05)}},{key:"decelerateX",value:function(){this.xVel>0?this.xVel-=.05:this.xVel<0&&(this.xVel+=.05)}},{key:"move",value:function(){this.y<=-10?this.y=-10:this.y>=this.dimensions.height-15&&(this.y=this.dimensions.height-15),(this.map[87]||this.map[38])&&(this.map[83]||this.map[40])?this.yVel=0:this.map[87]||this.map[38]?this.moveUp():this.map[83]||this.map[40]?this.moveDown():this.decelerateY(),this.x>this.dimensions.width-20?this.x=this.dimensions.width-20:this.x<10&&(this.x=10),(this.map[65]||this.map[37])&&(this.map[68]||this.map[39])?this.xVel=0:this.map[65]||this.map[37]?this.moveLeft():this.map[68]||this.map[39]?this.moveRight():this.decelerateX(),this.map[32]?this.reel():(this.map.reeling=!1,this.decelerateY()),this.y+=this.yVel,this.x+=this.xVel}},{key:"reel",value:function(){this.yVel=-8,this.map.reeling=!0}},{key:"keydown",value:function(){var t=this;document.addEventListener("keydown",(function(e){(87===e.keyCode||38===e.keyCode||83===e.keyCode||40===e.keyCode||68===e.keyCode||39===e.keyCode||65===e.keyCode||37===e.keyCode||32===e.keyCode)&&(t.map[e.keyCode]=!0)}))}},{key:"keyup",value:function(){var t=this;document.addEventListener("keyup",(function(e){t.map[e.keyCode]=!1}))}},{key:"hitbox",value:function(){return{left:this.x,right:this.x+10,top:this.y+10,bottom:this.y+30}}},{key:"runaway",value:function(){return{left:this.x-10,right:this.x+20,top:this.y-10,bottom:this.y+50}}}])&&s(e.prototype,i),n&&s(e,n),t}();function h(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var o=33,a=24.5,r=100,l=90,u=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dimensions=e,this.size=i,this.xVel=this.newRandomVel(),this.yVel=this.newRandomVel(),this.pos=this.randomPos(i);var s=Array.from(document.querySelectorAll("img")).slice(5);if("small"===i)switch(Math.floor(5*Math.random())){case 0:this.moveleft=s[0],this.moveright=s[1];break;case 1:this.moveleft=s[2],this.moveright=s[3];break;case 2:this.moveleft=s[4],this.moveright=s[5];break;case 3:this.moveleft=s[6],this.moveright=s[7];break;case 4:this.moveleft=s[8],this.moveright=s[9]}else"big"===i&&(this.moveleft=s[12],this.moveright=s[13]);this.randMoveCB=this.randMoveCB.bind(this),this.newRandomVel=this.newRandomVel.bind(this),this.randBetween10002000=this.randBetween10002000.bind(this),setTimeout(this.randMoveCB,this.randBetween10002000())}var e,i,s;return e=t,(i=[{key:"randomPos",value:function(t){var e=Math.floor(Math.random()*(this.dimensions.width-200))+100,i=Math.floor(Math.random()*(this.dimensions.height-200))+100,s={left:e,top:i};return"small"===t?(s.right=e+o,s.bottom=i+a):"big"===t&&(s.right=e+r,s.bottom=i+l),s}},{key:"animate",value:function(t){this.moveFish(),this.drawFish(t)}},{key:"newRandomVel",value:function(){return Math.random()>.5?2*Math.random():-2*Math.random()}},{key:"randBetween10002000",value:function(){return 1e3*(Math.floor(2*Math.random())+1)}},{key:"randMoveCB",value:function(){this.xVel=this.newRandomVel(),this.yVel=this.newRandomVel(),setTimeout(this.randMoveCB,this.randBetween10002000())}},{key:"moveFish",value:function(){this.pos.left+=this.xVel,this.pos.right+=this.xVel,this.pos.top+=this.yVel,this.pos.bottom+=this.yVel,(this.pos.right>=this.dimensions.width+100||this.pos.left<=-100)&&(this.xVel*=-1),(this.pos.bottom>=this.dimensions.height+90||this.pos.top<=0)&&(this.yVel*=-1)}},{key:"drawFish",value:function(t){var e,i;"small"===this.size?(e=o,i=a):"big"===this.size&&(e=r,i=l),this.xVel<0?t.drawImage(this.moveleft,this.pos.left,this.pos.top,e,i):t.drawImage(this.moveright,this.pos.left,this.pos.top,e,i)}},{key:"caught",value:function(t){var e=!1;return function(t,e){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)}(this.pos,t)&&(e=!0),e}}])&&h(e.prototype,i),s&&h(e,s),t}();function m(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}new(function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e.getContext("2d"),this.dimensions={width:e.width,height:e.height},this.fishes=[],this.bigfish=new u(this.dimensions,"big"),this.handleStart(),this.restart()}var e,i,s;return e=t,(i=[{key:"animate",value:function(){var t=this;this.hook.animate(this.ctx),this.fishes.forEach((function(e){e.animate(t.ctx)})),this.bigfish&&this.bigfish.animate(this.ctx),this.drawScore(),this.runaway(),this.caught(),this.running&&requestAnimationFrame(this.animate.bind(this))}},{key:"restart",value:function(){this.hook=new n(this.dimensions);for(var t=0;t<17;t++)this.fishes.push(new u(this.dimensions,"small"));this.score=0,this.running=!1,this.animate()}},{key:"runaway",value:function(){var t=this;this.fishes.forEach((function(e){e.caught(t.hook.runaway())&&(t.hook.xVel>0?e.xVel=3:e.xVel=-3,t.hook.yVel>0?e.yVel=3:e.yVel=-3)}))}},{key:"caught",value:function(){var t=this;this.fishes.forEach((function(e){e.caught(t.hook.hitbox())&&t.hook.map.reeling&&(Math.random()>.1?(e.xVel=t.hook.xVel,e.yVel=t.hook.yVel,e.pos.top<15&&(t.fishes.splice(t.fishes.indexOf(e),1),t.score+=50)):e.yVel=3.5)})),this.bigfish&&this.bigfish.caught(this.hook.hitbox())&&this.hook.map.reeling&&(Math.random()>.5?(this.bigfish.xVel=this.hook.xVel,this.bigfish.yVel=this.hook.yVel,this.bigfish.pos.bottom<35&&(this.bigfish=!1,this.score+=500)):this.bigfish.yVel=5)}},{key:"start",value:function(){var t=document.getElementById("gonwelcome"),e=document.getElementById("header");document.getElementById("splash").style="display: none;",t.style="display: none;",e.classList.add("move"),e.classList.remove("header-animation"),this.running=!0,this.music(),this.animate(),this.timer()}},{key:"handleStart",value:function(){document.getElementById("start").addEventListener("mousedown",this.start.bind(this))}},{key:"drawScore",value:function(){var t={x:this.dimensions.width-100,y:50};this.ctx.font="30pt Times",this.ctx.fillStyle="white",this.ctx.fillText(this.score,t.x,t.y),this.ctx.strokeStyle="white",this.ctx.lineWidth=1,this.ctx.strokeText(this.score,t.x,t.y)}},{key:"timer",value:function(){var t=this,e=document.getElementById("timer");e.style="display: block;";var i=60,s=setInterval((function(){e.innerHTML=i,--i<5&&e.classList.add("red"),i<0&&(t.running=!1,clearInterval(s))}),1e3)}},{key:"music",value:function(){var t=document.getElementById("ARBW");t.volume=.1,t.play()}}])&&m(e.prototype,i),s&&m(e,s),t}())(document.getElementById("canvas"))}]);
//# sourceMappingURL=main.js.map